<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
<title>Notenik | Script File Spec</title>
<meta name="description" content="Notenik Software">
<meta name="author" content="Herb Bowie">
<!--  This file was generated by Notenik from
Data File: 
Template:  page-template.html  -->
	<link rel="icon" href="favicon.ico" type="image/x-icon" />
	<link rel="icon" href="favicon.png" type="image/png" />
	<link rel="stylesheet" href="css/bootstrap.min.css" type="text/css" />
	<link rel="stylesheet" href="fonts/concourse_t3.css" type="text/css" />
	<link rel="stylesheet" href="fonts/stylesheet.css" type="text/css" />
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" href="open-iconic/font/css/open-iconic-bootstrap.min.css" >
	<link rel="alternate" type="application/rss+xml" title="RSS feed" href="rss.xml" />
	<link rel="alternate" type="application/atom+xml" title="Atom feed" href="atom.xml" />
</head>
<body>
<div class="container">

			<!-- Header -->
			<div class="row">
				<div class="col-12">
					<a href="index.html">
						<img class="centered" alt="Notenik Logo" src="images/notenik.png" />
					</a>
				</div>
			</div>
			<div class="row">
				<div id="site-title" class="col-12 centered">
					Notenik
				</div>
			</div>
			<div class="row">
				<div id="site-slogan" class="col-12 centered">
					For People Who Like Text
				</div>
			</div>

<!-- Body -->
<div class="row">

<!-- Left Hand Column -->
<div class="col-12 col-md-12 col-lg-3 col-xl-2 offset-xl-1">
				<!-- Navigation Bar -->
				<nav class="navbar float-left navbar-expand-lg">

					<!-- Toggler/collapsible button -->
					<button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navlinks" aria-controls="navlinks" aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon oi oi-menu"></span>
					</button>

					<!-- NavBar Links -->

					<div class="collapse navbar-collapse" id="navlinks">
						<ul class="navbar-nav text-left">

							<li class="nav-item">
								<a class="nav-link" href="index.html">
									Home
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="blog.html">
									Blog
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="swift.html">
									User Guide
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="template-spec.html">
									Template Spec
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="script-spec.html">
									Script Spec
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="support.html">
									Support
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="license.html">
									License
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="privacy.html">
									Privacy
								</a>
							</li>

							<li class="nav-item">
								<a class="nav-link" href="press.html">
									Press Kit
								</a>
							</li>

						</ul>
					</div>
				</nav>
</div>

<!-- Center Column: Text -->
<div class="col-12 col-md-12 col-lg-7 col-xl-6">
<h2>Script File Spec</h2>
<p>This specification describes the contents of a script file, used for executing a series of commands to transform input data sources and templates into appropriate output.</p>
<p>The file extension for a script file should be ‘.tcz’, short for ‘TDF Czar’, which was a predecessor to PSTextMerge, which was in turn a prececessor to Notenik.</p>
<p>A script file is a text file formatted into five columns, using either tabs or commas as delimiters to separate the columns.</p>
<p>Blank lines, as well as lines beginning with ’&lt;!— ’, will be ignored.</p>
<h3>Columns</h3>
<table>
<tr><th>#</th><th>Heading</th><th>Contents</th></tr>
<tr><td>1</td><td>module</td><td>Specifies the module to be used to execute the command. 
</td></tr>
<tr><td>2</td><td>action</td><td>The action to be taken by the indicated module. 
</td></tr>
<tr><td>3</td><td>modifier</td><td>A field used to modify the effects of the action in some way. 
</td></tr>
<tr><td>4</td><td>object</td><td>Names the object of the action. 
</td></tr>
<tr><td>5</td><td>value</td><td>Specifies a value to be assigned, or to be compared. 
</td></tr>
</table>
<h3>Modules</h3>
<p>The module column may contain any of the following values.</p>
<ul>
<li>
<p>input - Read input rows and columns from a Note Collection or another data source.</p>
</li>
<li>
<p>filter - Specify one or more filter criteria that will be used to filter the data source to a subset of its original set of rows.</p>
</li>
<li>
<p>sort - Specify one or more sort fields (major to minor) to be used to sort the data source.</p>
</li>
<li>
<p>template - Specify the location of a <a href="https://www.notenik.net/merge-template.html">template file</a> to be processed using the data source.</p>
</li>
<li>
<p>output - Write the filtered, sorted data to an output file in tab-delimited format.</p>
</li>
</ul>
<h3>Input Parameters</h3>
<p>The action for an input command may be either ‘set’ or ‘open’. The set command(s) should precede the open command to which they will apply.</p>
<h4>Set</h4>
<p>When using ‘set’, the variable to be set would be named in the object column, and the value to which it should be set would be supplied in the value column.</p>
<p>The following variables may be set.</p>
<ul>
<li>
<p>xpltags - Set this variable to ‘true’ to create a row for each tag included in the original row’s Tags field. A field called ‘Tag’ will be added to the data source. Set the variable to ‘false’ to bypass tags explosion.</p>
</li>
<li>
<p>dirdepth - The number of levels of folders to be considered, when reading from a data source that might drill down into multiple folders. The top level folder specified counts as 1.</p>
</li>
</ul>
<h4>Open</h4>
<p>When using ‘open’, the modifier field specifies the type of data source, and the value field specifies a path to the data source to be opened.</p>
<p>The object field is normally left blank, but an object of ‘merge’ can be used to cause the current data source to be merged with the prior data source, rather than replacing it.</p>
<p>The following modifier values are valid:</p>
<ul>
<li>
<p>dir - Reads the directory entries from the specified directory (including sub-directories, if the dirdepth variable has been set to a value greater than 1).</p>
</li>
<li>
<p>file - Reads an input text file with columns separated by tabs or commas.</p>
</li>
<li>
<p>markdown-with-headers - Reads a Markdown-formatted text file, and chunks it up into sections based on its headers. The content of each header will be placed in the Title field, the level of each header (1 - 6) will be placed in a Level field, and all text between this header and the next one will be placed into the Body field.</p>
</li>
<li>
<p>notenik-defined - Reads a Notenik collection with its fields defined by a template file.</p>
</li>
<li>
<p>notenik+ - Reads a Notenik collection with a broad set of standard fields.</p>
</li>
<li>
<p>notenik-general - Reads a Notenik Collection with any set of fields.</p>
</li>
<li>
<p>notenik-index - Reads a Notenik Collection using the Index field, and generates one row for each index term, containing the following columns.</p>
<ul>
<li>Initial Letter - The first letter of the index term.</li>
<li>Term - The term being indexed.</li>
<li>Lower Case Term - The same index term, but converted to lowercase.</li>
<li>Term Link -</li>
<li>Page - The Title of the Note containing this index term.</li>
<li>Anchor -</li>
</ul>
</li>
<li>
<p>notenik-split-tags - Reads a Notenik Collection, adds a “Tag” field, and returns one row for each tag (or one row with a blank tag, for Notes with no tags).</p>
</li>
<li>
<p>xlsx - Reads the first table in the specified XLSX file.</p>
</li>
</ul>
<h3>Filter Parameters</h3>
<p>A filter command may have an action of ‘clear’, ‘add’ or ‘set’.</p>
<h4>Clear</h4>
<p>Clears any filter parameters that might have previously been set, so that new ones can be added. A clear action must be followed by a set action in order to actually remove any previously specified filtering rules.</p>
<h4>Add</h4>
<p>Adds a new filter rule. The object would name the field to be compared as part of the filter. The value field would specify a value to which the object will be compared. And the modifier field specifies the nature of the comparison.</p>
<p>The following modifiers are valid (with all of the different forms on a line producing identical results).</p>
<ul>
<li>
<p>“=”, “==”, “eq” or “equals”</p>
</li>
<li>
<p>“&gt;”, “gt” or “greater than”</p>
</li>
<li>
<p>“&gt;=”, “!&lt;”, “ge” or “greater than or equal to”</p>
</li>
<li>
<p>“&lt;”, “lt” or “less than”</p>
</li>
<li>
<p>“&lt;=”, “!&gt;”, “le” or “less than or equal to”</p>
</li>
<li>
<p>“&lt;&gt;”, “!=”, “ne” or “not equal to”</p>
</li>
<li>
<p>“()”, “[]”, “co” or “contains”</p>
</li>
<li>
<p>“!()”, “![]”, “nc” or “does not contain”</p>
</li>
<li>
<p>“(&lt;)”, “[&lt;]”, “st” or “starts with”</p>
</li>
<li>
<p>“!(&lt;)”, “![&lt;]”, “ns” or “does not start with”</p>
</li>
<li>
<p>“(&gt;)”, “[&gt;]”, “fi” or “ends with”</p>
</li>
<li>
<p>“!(&gt;)”, “![&gt;]”, “nf” or “does not end with”</p>
</li>
</ul>
<h4>Set</h4>
<p>An action of set causes the previously added filtering rules, specified since the last clear action, to be applied.</p>
<h3>Sort Parameters</h3>
<p>Just as with the Filter module, the Sort module uses actions of ‘clear’, ‘add’ and ‘set’.</p>
<h4>Clear</h4>
<p>Clears any sort fields that might have previously been set, so that new ones can be added.</p>
<h4>Add</h4>
<p>Adds a new sort field, with major ones coming first, and minor ones following. The object would name the field to be used as part of a sort key.</p>
<p>If the modifier field starts with a ‘d’, then the field values will be sorted into descending sequence; anything else will result in an ascending sequence.</p>
<h4>Set</h4>
<p>An action of set causes the previously added sort fields, specified since the last clear action, to be applied.</p>
<h3>Template Parameters</h3>
<p>A Template command may have an action of ‘webroot’, ‘open’ or ‘generate’.</p>
<h4>Webroot</h4>
<p>A ‘webroot’ action causes the value column to be used as a path to the top level of a website to be generated. Template variables of ‘relative’ will then be replaced with a series of ‘../’ strings taking a file reference back to the top of the website.</p>
<h4>Open</h4>
<p>The file pointed to by the path in the value column will be opened as a <a href="https://www.notenik.net/merge-template.html">Template file</a>.</p>
<h4>Generate</h4>
<p>The previously opened Template file will be processed, generating one or more output files.</p>
<h3>Output Parameters</h3>
<p>An Output command may only have an action of ‘open’.</p>
<h4>Open</h4>
<p>The current data source, filtered and sorted per any previous relevant commands, will be written to the output file specified in the value column.</p>
<p>A file extension of ‘.csv’ will result in a comma-separated values file being written; any other file extension will result in a tab-delimited file being written.</p>

</div>

<!-- Right Hand Column -->
<div class="col-12 col-md-12 col-lg-2 col-xl-3">
<h4>Follow</h4>
<ul class="list-group">

<!--
  <li class="list-group-item">
  	<a href="http://eepurl.com/c0Smf5">
  		<img alt="" src="images/email.png" width="30">
  	</a>
  	&nbsp;
  	<a href="http://eepurl.com/c0Smf5">Email</a>
  </li>
-->

<!--
  <li class="list-group-item">
  	<a href="https://www.facebook.com/practopians/">
  		<img alt="" src="images/facebook.png" width="30">
  	</a>
  	&nbsp;
  	<a href="https://www.facebook.com/practopians/">Facebook</a>
  </li>
-->
  <li class="list-group-item">
  	<a href="rss.xml">
  		<img src="images/rss.png" width="30" alt="RSS Icon">
  	</a>
  	&nbsp;
  	<a href="atom.xml">Atom</a>
  </li>

  <li class="list-group-item">
  	<a href="rss.xml">
  		<img src="images/rss.png" width="30" alt="RSS Icon">
  	</a>
  	&nbsp;
  	<a href="rss.xml">RSS</a>
  </li>

<!--
  <li class="list-group-item">
  	<a href="https://twitter.com/practopian">
  		<img alt="" src="images/twitter.png" width="30">
  	</a>
  	&nbsp;
  	<a href="https://twitter.com/practopian">Twitter</a>
  </li>
-->

</ul>

			<div id="sharebox">

				<h4 id="share-header">Share</h4>

				<!-- Sharingbutton Facebook -->
				<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https://notenik.net/blog/script-spec.html" target="_blank" rel="noopener" aria-label="">
					<div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z"/></svg>
						</div>
					</div>
				</a>

				<!-- Sharingbutton Twitter -->
				<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?text=script-spec;url=https://notenik.net/blog/script-spec.html" target="_blank" rel="noopener" aria-label="">
					<div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.44 4.83c-.8.37-1.5.38-2.22.02.93-.56.98-.96 1.32-2.02-.88.52-1.86.9-2.9 1.1-.82-.88-2-1.43-3.3-1.43-2.5 0-4.55 2.04-4.55 4.54 0 .36.03.7.1 1.04-3.77-.2-7.12-2-9.36-4.75-.4.67-.6 1.45-.6 2.3 0 1.56.8 2.95 2 3.77-.74-.03-1.44-.23-2.05-.57v.06c0 2.2 1.56 4.03 3.64 4.44-.67.2-1.37.2-2.06.08.58 1.8 2.26 3.12 4.25 3.16C5.78 18.1 3.37 18.74 1 18.46c2 1.3 4.4 2.04 6.97 2.04 8.35 0 12.92-6.92 12.92-12.93 0-.2 0-.4-.02-.6.9-.63 1.96-1.22 2.56-2.14z"/></svg>
						</div>
					</div>
				</a>

				<!-- Sharingbutton E-Mail -->
				<a class="resp-sharing-button__link" href="mailto:?subject=script-spec&body=https://notenik.net/blog/script-spec.html" target="_self" rel="noopener" aria-label="">
					<div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z"/></svg>
						</div>
					</div>
				</a>

				<!-- Sharingbutton LinkedIn -->
				<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https://notenik.net/blog/script-spec.html&amp;title=script-spec;summary=script-spec;source=https://notenik.net/blog/script-spec.html" target="_blank" rel="noopener" aria-label="">
					<div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"/></svg>
						</div>
					</div>
				</a>

			</div>

		</div> <!-- end navshare -->
</div> <!-- end of right hand column -->

</div> <!-- end of main content row -->

<!-- Footer -->
<div class="row">
<div class="col-lg-12 footer">
<hr class="bottom">
Copyright &copy; 2019 by <a href="https://hbowie.net">Herb Bowie</a> and published as open source software under the terms of the <a href="https://opensource.org/licenses/MIT">MIT license</a>
</div>
</div>

</div> <!-- end of overall container -->
<script src="js/jquery.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</body>
</html>
